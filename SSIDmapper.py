import configparser
import simplekml
import requests
import sys

def init():
    global config
    config = configparser.ConfigParser()
    config.read("config.ini")

init()

def getKml(ssids):
    url = 'https://api.wigle.net/api/v2/network/search?onlymine=false&freenet=false&paynet=false&ssid='
    headers = {'Authorization': config["General"]["authcookie"]}
    kml = simplekml.Kml()
    for ssid in ssids:
        results = requests.get(url + ssid, headers=headers).json().get("results")
        print(results)
        for r in results:
            print(r)
            kml.newpoint(name=ssid, coords=[[r.get("trilat"), r.get("trilat")]])
    print(kml.kml())
    return kml.kml()

def test():
    req = {'search_after': 88977905, 'results': [{'lastupdt': '2017-07-15T19:44:52.000Z', 'freenet': '?', 'trilong': 5.85778522, 'country': 'NL', 'qos': 7, 'channel': 13, 'firsttime': '2015-11-16T21:59:34.000Z', 'netid': '94:F6:65:30:1D:F8', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-05-30T18:14:11.000Z', 'transid': '20151116-00117', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84193802, 'type': 'infra', 'comment': None, 'housenumber': '32A', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False}, {'lastupdt': '2017-05-30T18:14:26.000Z', 'freenet': '?', 'trilong': 5.85802412, 'country': None, 'qos': 4, 'channel': 36, 'firsttime': '2016-07-10T06:17:23.000Z', 'netid': '94:F6:65:30:15:2C', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:12.000Z', 'transid': '20160709-00520', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84241867, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False}, {'lastupdt': '2017-05-30T18:14:24.000Z', 'freenet': '?', 'trilong': 5.8575716, 'country': None, 'qos': 0, 'channel': 100, 'firsttime': '2017-05-30T21:04:00.000Z', 'netid': '94:F6:65:30:19:BC', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:12.000Z', 'transid': '20170530-00362', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84230042, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False}, {'lastupdt': '2017-05-30T18:14:26.000Z', 'freenet': '?', 'trilong': 5.85796309, 'country': None, 'qos': 7, 'channel': 52, 'firsttime': '2016-04-24T15:30:09.000Z', 'netid': '94:F6:65:30:82:5C', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:12.000Z', 'transid': '20160423-01035', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84166336, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False}, {'lastupdt': '2014-09-11T14:29:08.000Z', 'freenet': '?', 'trilong': 5.85981417, 'country': 'NL', 'qos': 4, 'channel': 1, 'firsttime': '2011-09-03T18:38:35.000Z', 'netid': 'A0:21:B7:9E:C6:61', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2014-09-11T16:28:07.000Z', 'transid': '20110903-00081', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.8360939, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False}, {'lastupdt': '2017-05-30T18:14:25.000Z', 'freenet': '?', 'trilong': 5.85829067, 'country': None, 'qos': 2, 'channel': 108, 'firsttime': '2016-07-10T06:17:56.000Z', 'netid': '94:F6:65:30:1B:4C', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:11.000Z', 'transid': '20160709-00520', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84223557, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False}, {'lastupdt': '2017-05-30T13:17:13.000Z', 'freenet': '?', 'trilong': 5.85756207, 'country': None, 'qos': 0, 'channel': 124, 'firsttime': '2017-05-30T21:04:13.000Z', 'netid': '94:F6:65:30:1D:FC', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T13:17:06.000Z', 'transid': '20170530-00362', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84230804, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False}, {'lastupdt': '2017-05-30T13:17:14.000Z', 'freenet': '?', 'trilong': 5.85823917, 'country': None, 'qos': 6, 'channel': 44, 'firsttime': '2016-05-27T02:47:37.000Z', 'netid': '94:F6:65:30:41:2C', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T13:17:06.000Z', 'transid': '20160531-00225', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84189606, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False}, {'lastupdt': '2017-05-30T18:14:24.000Z', 'freenet': '?', 'trilong': 5.85831642, 'country': None, 'qos': 4, 'channel': 255, 'firsttime': '2016-05-27T02:47:37.000Z', 'netid': '94:F6:65:30:5E:BC', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:12.000Z', 'transid': '20160531-00225', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84174347, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False}, {'lastupdt': '2017-08-05T11:37:54.000Z', 'freenet': '?', 'trilong': 5.85741186, 'country': 'NL', 'qos': 3, 'channel': 255, 'firsttime': '2016-07-10T06:17:53.000Z', 'netid': '94:F6:65:30:1B:5C', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-08-05T11:37:46.000Z', 'transid': '20160709-00520', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84233856, 'type': 'infra', 'comment': None, 'housenumber': '22', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': 'van Schaeck Mathonsingel', 'userfound': False}, {'lastupdt': '2017-06-28T19:26:25.000Z', 'freenet': '?', 'trilong': 5.85798693, 'country': 'NL', 'qos': 7, 'channel': 1, 'firsttime': '2015-11-16T18:09:37.000Z', 'netid': '94:F6:65:30:19:B8', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-06-28T19:26:14.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84246063, 'type': 'infra', 'comment': None, 'housenumber': '32H', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False}, {'lastupdt': '2017-05-30T13:17:14.000Z', 'freenet': '?', 'trilong': 5.85829926, 'country': None, 'qos': 4, 'channel': 255, 'firsttime': '2016-05-27T02:47:41.000Z', 'netid': '94:F6:65:30:90:CC', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T13:17:06.000Z', 'transid': '20160531-00225', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84205246, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False}, {'lastupdt': '2017-08-06T07:05:12.000Z', 'freenet': '?', 'trilong': 5.40877104, 'country': 'NL', 'qos': 0, 'channel': 9, 'firsttime': '2017-08-05T20:57:42.000Z', 'netid': '58:B6:33:2C:8C:C8', 'paynet': '?', 'wep': '2', 'region': 'Utrecht', 'name': None, 'lasttime': '2017-08-06T07:05:02.000Z', 'transid': '20170805-01606', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Amersfoort', 'trilat': 52.17494583, 'type': 'infra', 'comment': None, 'housenumber': '12E', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': 'Computerweg', 'userfound': False}, {'lastupdt': '2017-09-21T18:24:39.000Z', 'freenet': '?', 'trilong': 5.85866499, 'country': 'NL', 'qos': 7, 'channel': 4, 'firsttime': '2016-03-07T00:39:07.000Z', 'netid': '94:F6:65:30:5E:B8', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-21T18:24:14.000Z', 'transid': '20160306-00352', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84181976, 'type': 'infra', 'comment': None, 'housenumber': '20', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': 'Keizer Karelplein', 'userfound': False}, {'lastupdt': '2017-09-18T13:52:42.000Z', 'freenet': '?', 'trilong': 5.85808849, 'country': 'NL', 'qos': 7, 'channel': 6, 'firsttime': '2015-12-12T23:07:14.000Z', 'netid': '94:F6:65:30:82:58', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-18T13:52:28.000Z', 'transid': '20151212-00331', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84152222, 'type': 'infra', 'comment': None, 'housenumber': '3', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False}, {'lastupdt': '2017-09-29T14:21:28.000Z', 'freenet': '?', 'trilong': 5.85878277, 'country': 'NL', 'qos': 7, 'channel': 1, 'firsttime': '2015-09-28T02:14:01.000Z', 'netid': '94:F6:65:30:90:C8', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:13.000Z', 'transid': '20150927-00263', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84191132, 'type': 'infra', 'comment': None, 'housenumber': '20', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': 'Keizer Karelplein', 'userfound': False}, {'lastupdt': '2017-09-29T14:21:25.000Z', 'freenet': '?', 'trilong': 5.85864449, 'country': 'NL', 'qos': 7, 'channel': 9, 'firsttime': '2015-09-28T02:14:01.000Z', 'netid': '94:F6:65:30:1B:48', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:13.000Z', 'transid': '20150927-00263', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84206009, 'type': 'infra', 'comment': None, 'housenumber': '32', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False}, {'lastupdt': '2017-09-29T14:21:26.000Z', 'freenet': '?', 'trilong': 5.85839176, 'country': 'NL', 'qos': 7, 'channel': 13, 'firsttime': '2015-11-16T18:08:34.000Z', 'netid': '94:F6:65:30:1B:58', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:17.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84250259, 'type': 'infra', 'comment': None, 'housenumber': '34h', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False}, {'lastupdt': '2017-09-29T14:21:26.000Z', 'freenet': '?', 'trilong': 5.85849428, 'country': 'NL', 'qos': 7, 'channel': 13, 'firsttime': '2015-11-16T18:09:06.000Z', 'netid': '94:F6:65:30:41:28', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:13.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84209824, 'type': 'infra', 'comment': None, 'housenumber': '32', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False}, {'lastupdt': '2017-09-29T14:21:27.000Z', 'freenet': '?', 'trilong': 5.85898018, 'country': 'NL', 'qos': 7, 'channel': 4, 'firsttime': '2015-11-16T18:12:53.000Z', 'netid': '94:F6:65:30:0C:68', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:17.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84213638, 'type': 'infra', 'comment': None, 'housenumber': '', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False}, {'lastupdt': '2017-09-29T14:21:31.000Z', 'freenet': '?', 'trilong': 5.85837078, 'country': 'NL', 'qos': 7, 'channel': 36, 'firsttime': '2016-03-07T00:39:07.000Z', 'netid': '94:F6:65:30:0C:6C', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:13.000Z', 'transid': '20160306-00352', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84185028, 'type': 'infra', 'comment': None, 'housenumber': '32', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False}, {'lastupdt': '2017-09-29T14:21:29.000Z', 'freenet': '?', 'trilong': 5.85874081, 'country': 'NL', 'qos': 7, 'channel': 9, 'firsttime': '2015-11-16T18:08:30.000Z', 'netid': '94:F6:65:30:15:28', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:17.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84250259, 'type': 'infra', 'comment': None, 'housenumber': '', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False},
{'lastupdt': '2017-07-15T19:44:52.000Z', 'freenet': '?', 'trilong': 5.85778522, 'country': 'NL', 'qos': 7, 'channel': 13, 'firsttime': '2015-11-16T21:59:34.000Z', 'netid': '94:F6:65:30:1D:F8', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-05-30T18:14:11.000Z', 'transid': '20151116-00117', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84193802, 'type': 'infra', 'comment': None, 'housenumber': '32A', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False},
{'lastupdt': '2017-05-30T18:14:26.000Z', 'freenet': '?', 'trilong': 5.85802412, 'country': None, 'qos': 4, 'channel': 36, 'firsttime': '2016-07-10T06:17:23.000Z', 'netid': '94:F6:65:30:15:2C', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:12.000Z', 'transid': '20160709-00520', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84241867, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False},
{'lastupdt': '2017-05-30T18:14:24.000Z', 'freenet': '?', 'trilong': 5.8575716, 'country': None, 'qos': 0, 'channel': 100, 'firsttime': '2017-05-30T21:04:00.000Z', 'netid': '94:F6:65:30:19:BC', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:12.000Z', 'transid': '20170530-00362', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84230042, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False},
{'lastupdt': '2017-05-30T18:14:26.000Z', 'freenet': '?', 'trilong': 5.85796309, 'country': None, 'qos': 7, 'channel': 52, 'firsttime': '2016-04-24T15:30:09.000Z', 'netid': '94:F6:65:30:82:5C', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:12.000Z', 'transid': '20160423-01035', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84166336, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False},
{'lastupdt': '2014-09-11T14:29:08.000Z', 'freenet': '?', 'trilong': 5.85981417, 'country': 'NL', 'qos': 4, 'channel': 1, 'firsttime': '2011-09-03T18:38:35.000Z', 'netid': 'A0:21:B7:9E:C6:61', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2014-09-11T16:28:07.000Z', 'transid': '20110903-00081', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.8360939, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False},
{'lastupdt': '2017-05-30T18:14:25.000Z', 'freenet': '?', 'trilong': 5.85829067, 'country': None, 'qos': 2, 'channel': 108, 'firsttime': '2016-07-10T06:17:56.000Z', 'netid': '94:F6:65:30:1B:4C', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:11.000Z', 'transid': '20160709-00520', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84223557, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False},
{'lastupdt': '2017-05-30T13:17:13.000Z', 'freenet': '?', 'trilong': 5.85756207, 'country': None, 'qos': 0, 'channel': 124, 'firsttime': '2017-05-30T21:04:13.000Z', 'netid': '94:F6:65:30:1D:FC', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T13:17:06.000Z', 'transid': '20170530-00362', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84230804, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False},
{'lastupdt': '2017-05-30T13:17:14.000Z', 'freenet': '?', 'trilong': 5.85823917, 'country': None, 'qos': 6, 'channel': 44, 'firsttime': '2016-05-27T02:47:37.000Z', 'netid': '94:F6:65:30:41:2C', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T13:17:06.000Z', 'transid': '20160531-00225', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84189606, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False},
{'lastupdt': '2017-05-30T18:14:24.000Z', 'freenet': '?', 'trilong': 5.85831642, 'country': None, 'qos': 4, 'channel': 255, 'firsttime': '2016-05-27T02:47:37.000Z', 'netid': '94:F6:65:30:5E:BC', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T18:14:12.000Z', 'transid': '20160531-00225', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84174347, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False},
{'lastupdt': '2017-08-05T11:37:54.000Z', 'freenet': '?', 'trilong': 5.85741186, 'country': 'NL', 'qos': 3, 'channel': 255, 'firsttime': '2016-07-10T06:17:53.000Z', 'netid': '94:F6:65:30:1B:5C', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-08-05T11:37:46.000Z', 'transid': '20160709-00520', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84233856, 'type': 'infra', 'comment': None, 'housenumber': '22', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': 'van Schaeck Mathonsingel', 'userfound': False},
{'lastupdt': '2017-06-28T19:26:25.000Z', 'freenet': '?', 'trilong': 5.85798693, 'country': 'NL', 'qos': 7, 'channel': 1, 'firsttime': '2015-11-16T18:09:37.000Z', 'netid': '94:F6:65:30:19:B8', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-06-28T19:26:14.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84246063, 'type': 'infra', 'comment': None, 'housenumber': '32H', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False},
{'lastupdt': '2017-05-30T13:17:14.000Z', 'freenet': '?', 'trilong': 5.85829926, 'country': None, 'qos': 4, 'channel': 255, 'firsttime': '2016-05-27T02:47:41.000Z', 'netid': '94:F6:65:30:90:CC', 'paynet': '?', 'wep': '2', 'region': None, 'name': None, 'lasttime': '2017-05-30T13:17:06.000Z', 'transid': '20160531-00225', 'encryption': 'wpa2', 'bcninterval': 0, 'city': None, 'trilat': 51.84205246, 'type': 'infra', 'comment': None, 'housenumber': None, 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': None, 'userfound': False},
{'lastupdt': '2017-08-06T07:05:12.000Z', 'freenet': '?', 'trilong': 5.40877104, 'country': 'NL', 'qos': 0, 'channel': 9, 'firsttime': '2017-08-05T20:57:42.000Z', 'netid': '58:B6:33:2C:8C:C8', 'paynet': '?', 'wep': '2', 'region': 'Utrecht', 'name': None, 'lasttime': '2017-08-06T07:05:02.000Z', 'transid': '20170805-01606', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Amersfoort', 'trilat': 52.17494583, 'type': 'infra', 'comment': None, 'housenumber': '12E', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': 'Computerweg', 'userfound': False},
{'lastupdt': '2017-09-21T18:24:39.000Z', 'freenet': '?', 'trilong': 5.85866499, 'country': 'NL', 'qos': 7, 'channel': 4, 'firsttime': '2016-03-07T00:39:07.000Z', 'netid': '94:F6:65:30:5E:B8', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-21T18:24:14.000Z', 'transid': '20160306-00352', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84181976, 'type': 'infra', 'comment': None, 'housenumber': '20', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': 'Keizer Karelplein', 'userfound': False},
{'lastupdt': '2017-09-18T13:52:42.000Z', 'freenet': '?', 'trilong': 5.85808849, 'country': 'NL', 'qos': 7, 'channel': 6, 'firsttime': '2015-12-12T23:07:14.000Z', 'netid': '94:F6:65:30:82:58', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-18T13:52:28.000Z', 'transid': '20151212-00331', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84152222, 'type': 'infra', 'comment': None, 'housenumber': '3', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False},
{'lastupdt': '2017-09-29T14:21:28.000Z', 'freenet': '?', 'trilong': 5.85878277, 'country': 'NL', 'qos': 7, 'channel': 1, 'firsttime': '2015-09-28T02:14:01.000Z', 'netid': '94:F6:65:30:90:C8', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:13.000Z', 'transid': '20150927-00263', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84191132, 'type': 'infra', 'comment': None, 'housenumber': '20', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': 'Keizer Karelplein', 'userfound': False},
{'lastupdt': '2017-09-29T14:21:25.000Z', 'freenet': '?', 'trilong': 5.85864449, 'country': 'NL', 'qos': 7, 'channel': 9, 'firsttime': '2015-09-28T02:14:01.000Z', 'netid': '94:F6:65:30:1B:48', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:13.000Z', 'transid': '20150927-00263', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84206009, 'type': 'infra', 'comment': None, 'housenumber': '32', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False},
{'lastupdt': '2017-09-29T14:21:26.000Z', 'freenet': '?', 'trilong': 5.85839176, 'country': 'NL', 'qos': 7, 'channel': 13, 'firsttime': '2015-11-16T18:08:34.000Z', 'netid': '94:F6:65:30:1B:58', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:17.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84250259, 'type': 'infra', 'comment': None, 'housenumber': '34h', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False},
{'lastupdt': '2017-09-29T14:21:26.000Z', 'freenet': '?', 'trilong': 5.85849428, 'country': 'NL', 'qos': 7, 'channel': 13, 'firsttime': '2015-11-16T18:09:06.000Z', 'netid': '94:F6:65:30:41:28', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:13.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84209824, 'type': 'infra', 'comment': None, 'housenumber': '32', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False},
{'lastupdt': '2017-09-29T14:21:27.000Z', 'freenet': '?', 'trilong': 5.85898018, 'country': 'NL', 'qos': 7, 'channel': 4, 'firsttime': '2015-11-16T18:12:53.000Z', 'netid': '94:F6:65:30:0C:68', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:17.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84213638, 'type': 'infra', 'comment': None, 'housenumber': '', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False},
{'lastupdt': '2017-09-29T14:21:31.000Z', 'freenet': '?', 'trilong': 5.85837078, 'country': 'NL', 'qos': 7, 'channel': 36, 'firsttime': '2016-03-07T00:39:07.000Z', 'netid': '94:F6:65:30:0C:6C', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:13.000Z', 'transid': '20160306-00352', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84185028, 'type': 'infra', 'comment': None, 'housenumber': '32', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False},
{'lastupdt': '2017-09-29T14:21:29.000Z', 'freenet': '?', 'trilong': 5.85874081, 'country': 'NL', 'qos': 7, 'channel': 9, 'firsttime': '2015-11-16T18:08:30.000Z', 'netid': '94:F6:65:30:15:28', 'paynet': '?', 'wep': '2', 'region': 'Gelderland', 'name': None, 'lasttime': '2017-09-29T14:21:17.000Z', 'transid': '20151116-00045', 'encryption': 'wpa2', 'bcninterval': 0, 'city': 'Nijmegen', 'trilat': 51.84250259, 'type': 'infra', 'comment': None, 'housenumber': '', 'dhcp': '?', 'ssid': 'Isatis_Public', 'road': '', 'userfound': False}]}
    kml = simplekml.Kml()
    results=req.get("results")
    for r in results:
        kml.newpoint(name=r.get("ssid"), coords=[[r.get("trilat"), r.get("trilat")]])
    return kml.kml()



if __name__ == "__main__":
    if len(sys.argv)<2:
        print("Usage: SSIDmapper ssids1 ssid2 ssid3 ...")
        kml=test()
    else:
        kml=getKml(sys.argv[1:])
    print(kml)



